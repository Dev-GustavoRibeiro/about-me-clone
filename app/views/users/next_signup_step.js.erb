<% if @step == '2' %>
  let email, firstName, lastName, userLocation;
  prepareSignupStepTwo();
<% elsif @step == '3' %>
  prepareSignupStepThree();
<% elsif @step == '4' %>
  prepareSignupStepFour();
<% end %>

function prepareSignupStepTwo() {
  updateNavbar();
  email = $('#email').val();
  $('.signup-form-area').detach();
  $('.main-signup').append('<%= j (render 'signup_step_two') %>');
  addHiddenInput('email', email);
}

function updateNavbar() {
  $('.navbar-nav').detach();
  $('.navbar-brand').css('color', 'white');
  $('.navbar-signup').css('background-color', '#0a84d0');
}

function prepareSignupStepThree() {
  firstName = $('#first_name').val();
  lastName = $('#last_name').val();
  $('.signup-form-area').detach();
  $('.main-signup').append('<%= j (render 'signup_step_three') %>');
  $('.step-description').text(`Where are you, ${firstName}?`);
  addHiddenInput('email', email);
  addHiddenInput('first_name', firstName);
  addHiddenInput('last_name', lastName);
}

function prepareSignupStepFour() {
  userLocation = $('#user_location').val();
  $('.signup-form-area').detach();
  $('.main-signup').append('<%= j (render 'signup_step_four') %>');
  addHiddenInput('email', email);
  addHiddenInput('first_name', firstName);
  addHiddenInput('last_name', lastName);
  addHiddenInput('user_location, userLocation');
}

function addHiddenInput(name, value) {
  $('form').append(`<input type="hidden" id=${name} name=${name} value=${value}>`);
}
